#  Introduction to Computer Networking



## 一、什么是计算机网络

### 1、书本上的定义（Computer Networking）

#### 1.1、从具体构成角度描述

​	计算机网络由硬件和软件共同构成，硬件包括终端设备，通信链路和分组交换机（路由器、链路层交换机等）；软件包括运行在这些设备上的一系列协议（Protocol）。

#### 1.2、从服务的角度描述



### 2、直观感受

​	每天都在使用，插上网线即可享受网络的便利，好像没什么很复杂的操作。这么看起来，网络好像是个很简单的事物。



## 二、计算机网络中的问题（主要）

### 1、一个观点

​	*“ Computer Networking: A Top-Down Approach ”*  一书的作者对计算机网络有这样一种观点，他认为计算机网络是计算机技术和通信技术共同孕育出的产物。因此，可以粗暴地认为，计算机网络中的主要问题可以利用通信领域的知识求解。

### 2、打电话

回顾一下打电话（日常通信）的流程：

- 查找电话本，找到对方的电话号码
    - 如果找不到，作罢；
    - 如果找到了，拨号，尝试连接对方；
        - 如果连接不上，作罢；
        - 连接成功，开始通话；
- 通话，说自己想说的话，听对方说的话；
    - 若没听清楚，请对面再说一遍；
    - 若听清楚了，告诉对方，请对方继续；
- 通话结束，挂掉电话；

### 3、通过计算机网络通信

计算机网络中设备之间的通信和上述过程很类似，也是分为三个阶段：

- 查询对方的地址（在哪查？查不到怎么办？）
- 查到了地址，开始发送数据（接受的数据错了怎么办？数据正确又怎么办？）
- 数据发送完了，断开通信；

### 4、网络通信中的问题

#### 4.1、网络寻址

​	通信的第一步是寻址，从不同的角度看，通信的对象不同，我们采用的地址类型也不同。

​	首先，从硬件的角度看，通信的对象是主机。一个网络中有很多的主机，如何区分其中不同的主机的呢？答案是通过IP地址，可以手动地设置，也可以利用一些软件（协议）来自动设置。一般情况下，是 OS 帮助我们自动设置主机的IP地址，因此，在我们的日常上网的过程种，很少会进行配置IP的操作。

​	其次，从服务的角度看，通信的对象是主机上的服务进程。每台主机种都运行着很多的网络应用程序，它们通过同一台主机来连接网络，那么主机是如何区分这些进程，以便将正确的信息传递给正确的进程的呢？答案是通过端口号，主机通过端口号来区分进程，因此，我们通过端口号来对进程进行编址。

​	区分地址类型之后，开始寻找地址。首先，在本地地址集合（一般以表的形式存在）中查找目的地址，若查不到，要么直接放弃通信，要么向周围人（设备）询问，看看它们知不知道目的地址。后一种处理方式涉及广播的概念。

#### 4.2、数据传输

​	在建立通信之后，便开始数据传输。数据传输的第一个问题是协议的设计，在通信链路中，所有的数据（文字，声音，图像等）以电信号的形式传输，当接受端接收到电信号之后，将其变成 010101.... 序列，然后交付终端使用。这些 010101..... 序列会让接收者糊涂，你这是什么意思？因此，需要一个解释器，来将这些 0101010...序列 “转换” 成含义明确的字符，并根据这些字符来执行相应的操作。协议就是完成这项解释功能的工具。由上述分析可以知道，接发双方对同一段信息要执行相同的协议，不然无法正确理解信息的含义。

​	当网络中通信主机的数量过大时，将两台通信主机直接相联的方式部署成本过高，不可取。在实际中，采用的是一个网状的结构，这个网状结构有很多的节点，这些节点类似于现实世界中的中转站，他们的功能主要是将接受到的数据通过相应的端口发送出去（如何将数据和发出端口正确的对应起来？），因此，发送方只需将数据交给这个 “中介” 就可以了，其他的传输工作由这个中介完成。

​	计算机网络中有数以万计的用户，某些人会共用一个 “中介” 来传输数据，因此，在 “中介”网络 的某些个节点中，可能会发生数据的拥堵，从而导致一些问题（如碰撞，丢包，延迟过高等）。如何在 ”中介“网络 中控制传输过程，使得网络数据通道资源利用的更加合理呢？

​	解决了网络通道资源分配的问题，在某些场合，我们还用考虑数据的准确性和安全性。



## 三、计算机网络的体系结构

### 1、几个观点

​	由上面的内容可以看出，计算机网络是一个复杂的网络。

​	横向看，将网络视作一个平面，可以将网络大致分为两个部分，一个是终端设备（网络边缘），这类设备是数据传输的起点和终点，另一个部分是转发部分（网络内部），这类设备的主要功能是转发数据，充当数据传输的中介。

​	纵向看，网络也是有层次结构的，发送出的数据先要找到目的主机所在的网络，然后找到目的主机，接着找到目的进程。这个过程有着很明显的先后顺序，因此，我们可以尝试将网络分层，每层完成一定的功能。当一层完成自己的功能后，将数据传递给下一层，这样层层推进，便可完成数据的传输。

​	而且，由于网络边缘的设备和网络核心的设备的功能不尽相同，他们的设计差异会很大，若将全部功能整合到一起，设备结构会非常复杂，会造成资源的浪费，也不利于功能的拓展，这不可取。在实际中，我们是将全部的功能拆分成若干个小功能，根据需要选择相应的功能组合来实现，这样可以降低设备的复杂度，让设备更加的 ”专业“。

### 2、分层的网络

#### 2.1、五层结构（TCP/IP 协议栈）

- 应用层
- 运输层（TCP/UDP）
- 网络层（IP）
- 链路层
- 物理层

#### 2.2、七层结构

- 应用层
- 表示层
- 会话层
- 运输层
- 网络层
- 链路层
- 物理层



## 四、计算机网络中的一些典型的思维方式

### 5.1、分层

​	分层是处理复杂问题的一种有效的思维方式，而且网络的特性使得可以利用分层来降低实现部署的难度。

### 5.2、 代理

